<!DOCTYPE html>
<html>
  <head>
    <title>Amazon Product Info</title>
    <script src="popup.js"></script>
    <style>
      body {
        text-align: center;
        font-family: Arial, sans-serif;
      }
    </style>
  </head>
  <body>
    <div
      style="
        min-height: 200px;
        width: 400px;
        border-color: #f3f3f3;
        padding: 2rem;
        background: linear-gradient(
          180deg,
          rgba(2, 0, 36, 1) 0%,
          rgba(9, 9, 121, 1) 35%,
          rgba(0, 212, 255, 1) 100%
        );
        display: flex;
        flex-direction: column;
        justify-content: center;
        color: white;
      "
    >
      <div id="initialContent">
        <h2 style="font-size: 24px; margin-bottom: -8px">
          Want to view it in 3D??
        </h2>
        <p style="font-size: 14px">Well we can help you out.</p>
        <h3 style="font-size: 14px; margin-bottom: 12px">
          Upload the environment where you want to view it here.
        </h3>
        <form id="uploadForm">
          <input
            type="file"
            id="environment"
            name="filename"
            accept="image/*"
          />
          <input type="submit" value="Upload" class="submit-btn" />
        </form>
      </div>
      <div id="processingContent" style="display: none">
        <h2>Generating 3D Image</h2>
        <p>Please wait while we process your environment...</p>
        <div class="loading-spinner"></div>
      </div>
      <div id="successContent" style="display: none">
        <h2>3D Image Generated!</h2>
        <p>Your environment has been successfully processed.</p>
        <div class="success-checkmark"></div>
        <a href="http://localhost:8080/output" target="_blank">
        <button id="viewModelBtn" class="view-model-btn">
            Click here to view your 3D model in your environment
          </button>
          </a>
      </div>
      <style>
        .view-model-btn {
          background-color: #4caf50;
          color: white;
          padding: 10px 20px;
          border: none;
          border-radius: 5px;
          cursor: pointer;
          margin-top: 20px;
          font-size: 14px;
          transition: background-color 0.3s;
        }
        .view-model-btn:hover {
          background-color: #45a049;
        }
      </style>
      <style>
        .success-checkmark {
          width: 40px;
          height: 40px;
          margin: 20px auto;
          border-radius: 50%;
          background: #4caf50;
          position: relative;
        }
        .success-checkmark:after {
          content: "";
          width: 20px;
          height: 10px;
          position: absolute;
          border: 4px solid white;
          border-top: none;
          border-right: none;
          background: transparent;
          top: 46%;
          left: 50%;
          transform: translate(-50%, -50%) rotate(-45deg);
        }
      </style>
      <style>
        .loading-spinner {
          width: 40px;
          height: 40px;
          margin: 20px auto;
          border: 4px solid #f3f3f3;
          border-top: 4px solid #3498db;
          border-radius: 50%;
          animation: spin 1s linear infinite;
        }
        @keyframes spin {
          0% {
            transform: rotate(0deg);
          }
          100% {
            transform: rotate(360deg);
          }
        }
      </style>
    </div>
  </body>
</html>
